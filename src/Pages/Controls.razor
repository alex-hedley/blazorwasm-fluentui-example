@page "/controls"
@*@inject DataSource Data*@

<PageTitle>Controls</PageTitle>

<h1>Controls</h1>

@*
    // -----------------------------------
    // Breadcrumb
    // -----------------------------------
*@

<h2>Breadcrumb</h2>

<FluentBreadcrumb>
    <FluentBreadcrumbItem Href="#">
        Breadcrumb item 1
        <FluentIcon Slot="start" Name="@FluentIcons.Home" Size="@IconSize.Size16" Color=Color.Neutral />
    </FluentBreadcrumbItem>
    <FluentBreadcrumbItem Href="#">
        Breadcrumb item 2
        <FluentIcon Slot="start" Name="@FluentIcons.Clipboard" Size="@IconSize.Size16" Color=Color.Neutral />
    </FluentBreadcrumbItem>
    <FluentBreadcrumbItem>
        Breadcrumb item 3
        <FluentIcon Slot="start" Name="@FluentIcons.Money" Size="@IconSize.Size16" Color=Color.Neutral />
    </FluentBreadcrumbItem>
</FluentBreadcrumb>

<FluentDivider></FluentDivider>

@*
    // -----------------------------------
    // Accordion
    // -----------------------------------
*@

<h2>Accordion</h2>

<FluentAccordion ActiveId="@activeId" OnAccordionItemChange="HandleOnAccordionItemChange">
    <FluentAccordionItem Heading="Panel one">
        <FluentIcon Slot="start" Name="@FluentIcons.Globe" Size="@IconSize.Size20" Color=Color.Neutral />
        Panel one content, using the 'start' slot for extra header content (in this case an icon)
    </FluentAccordionItem>
    <FluentAccordionItem Heading="Panel two">
        <div slot="end">
            #end#
        </div>
        Panel two content, using the 'end' slot for extra header content (in this case an HTML button)
    </FluentAccordionItem>
    <FluentAccordionItem Expanded="true" Heading="Panel three">
        Panel three content
    </FluentAccordionItem>
</FluentAccordion>

<p>Last changed accordion item: @changed?.Heading</p>

@code {
    string activeId = "accordion-1";

    FluentAccordionItem? changed;

    private void HandleOnAccordionItemChange(FluentAccordionItem item)
    {
        changed = item;
    }
}

<FluentDivider></FluentDivider>

@*
    // -----------------------------------
    // Badge
    // -----------------------------------
*@

<h2>Badge</h2>

<div>
    <FluentBadge Fill="highlight" Color="highlight">
        Badge
    </FluentBadge>
    <FluentBadge Fill="lowlight" Color="lowlight">
        Badge
    </FluentBadge>
</div>

@code {
}

<FluentDivider></FluentDivider>

@*
    // -----------------------------------
    // Calendar
    // -----------------------------------
*@

<h2>Calendar</h2>

<FluentCalendar DisabledDates=@disabledDates @bind-SelectedDates=@selectedDates DisabledSelectable=false></FluentCalendar>

<p>Selected dates</p>
<ul>
    @foreach (DateOnly date in selectedDates)
    {
        <li>@date.ToString("yyyy-MM-dd")</li>
    }
</ul>

@code {
    static int currentYear = DateTime.Now.Year;
    static int currentMonth = DateTime.Now.Month;

    static int daysInMonth = DateTime.DaysInMonth(currentYear, currentMonth) + 1;
    static Random random = new();

    List<DateOnly> disabledDates = new();
    List<DateOnly> selectedDates = new();

    protected override void OnInitialized()
    {
        for (int i = 0; i < 3; i++)
        {
            disabledDates.Add(new DateOnly(currentYear, currentMonth, random.Next(1, daysInMonth)));
            selectedDates.Add(new DateOnly(currentYear, currentMonth, random.Next(1, daysInMonth)));
        };
    }
}

<FluentDivider></FluentDivider>

@*
    // -----------------------------------
    // Checkbox
    // -----------------------------------
*@

<h2>Checkbox</h2>

<p>With a label: </p>
<FluentCheckbox @bind-Value=value2>label</FluentCheckbox>

@code {
    bool value2 = true;
}

<FluentDivider></FluentDivider>

@*
    // -----------------------------------
    // Combobox
    // -----------------------------------
*@

<h2>Combobox</h2>

@*<h4>With Placeholder</h4>
    <FluentCombobox Placeholder="Please select a size" Items="@Data.Sizes" @bind-Value="@size" />
    <p>
        Selected size: @size
    </p>*@

@code {
    //string? name = "Nur Sari";
    //string? size = "";
}

@*
    // -----------------------------------
    // Dialog
    // -----------------------------------
*@

<h2>Dialog</h2>

<div>
    <p>
        When 'Modal' is checked, the dialog can be <em>dismissed</em> by clicking outside of the dialog (anywhere on the overlay). When unchecked,
        the dialog can be <em>dismissed</em> only by the 'ESC' key.<br />The dialog can always be <em>closed</em> by using the 'Close dialog'
        button.
    </p>
    <p>
        When 'Trap focus' is checked, only the elements within the dialog will receive focus. When unchecked, focus will also move outside of the
        dialog.
    </p>
    <FluentCheckbox Name="modal" @bind-Value="Modal">
        Modal
    </FluentCheckbox>
    <FluentCheckbox Name="trap" @bind-Value="TrapFocus">
        Trap focus
    </FluentCheckbox>
</div>
<div>
    <FluentDialog @ref="MyFluentDialog" aria-label="Simple dialog" Modal=@Modal TrapFocus=@TrapFocus @ondialogdismiss=OnDismiss>
        <h2>Just a simple dialog</h2>
        <p>The 'Close dialog' button is automatically focussed.</p>
        <p>The 'Another button' doesn't do anything other than showing receiving focus.</p>
        <FluentButton Appearance="Appearance.Accent" Autofocus="true" @onclick="OnClose">Close dialog</FluentButton>
        <FluentButton>Another button</FluentButton>
    </FluentDialog>
</div>

<p>Status: @status</p>

<FluentButton Appearance=Appearance.Accent @onclick="OnOpen">Open dialog</FluentButton>

@code {
    private FluentDialog? MyFluentDialog;
    public bool TrapFocus = true;
    public bool Modal = true;
    private string? status;

    protected override void OnAfterRender(bool firstRender)
    {
        if (firstRender)
            MyFluentDialog!.Hide();
    }

    private void OnOpen()
    {
        status = "Dialog opened with button click";
        MyFluentDialog!.Show();
    }

    private void OnClose()
    {
        status = $"Dialog dismissed with reason: Close button clicked";
        MyFluentDialog!.Hide();

    }

    private void OnDismiss(DialogEventArgs args)
    {
        if (args is not null && args.Reason is not null && args.Reason == "dismiss")
        {
            status = $"Dialog dismissed with reason: Dismissed";
            MyFluentDialog!.Hide();
        }
    }
}

<FluentDivider></FluentDivider>

@*
    // -----------------------------------
    // Emoji
    // -----------------------------------
*@

<h2>Emoji</h2>

<FluentEmoji Name="@FluentEmojis.Hamburger" EmojiStyle="EmojiStyle.Color" Size=@EmojiSize.Size32 />

@code {
}

<FluentDivider></FluentDivider>

@*
    // -----------------------------------
    // Flipper
    // -----------------------------------
*@

<h2>Flipper</h2>

<FluentFlipper Direction="FlipperDirection.Previous">
    <FluentIcon Name="@FluentIcons.ArrowCircleLeft" Slot="previous" Size="@IconSize.Size16" Variant=IconVariant.Filled Color=Color.Neutral />
</FluentFlipper>

<FluentFlipper Direction="FlipperDirection.Next">
    <FluentIcon Name="@FluentIcons.ArrowCircleRight" Slot="next" Size="@IconSize.Size16" Variant=IconVariant.Filled Color=Color.Neutral />
</FluentFlipper>

@code {
}

<FluentDivider />

@*
    // -----------------------------------
    // Horizontal Scroll
    // -----------------------------------
*@

<h2>Horizontal Scroll</h2>

@*
    <FluentHorizontalScroll class="both-gradient" Speed="600" Easing="ScrollEasing.EaseInOut">
        <FluentCard>Card number 1</FluentCard>
        <FluentCard>Card number 2</FluentCard>
        <FluentCard>Card number 3</FluentCard>
        <FluentCard>Card number 4</FluentCard>
        <FluentCard style="width:140px;height:160px">Card number 5</FluentCard>
        <FluentCard>Card number 6</FluentCard>
        <FluentCard>Card number 7</FluentCard>
        <FluentCard>Card number 8</FluentCard>
        <FluentCard>Card number 9</FluentCard>
        <FluentCard>Card number 10</FluentCard>
        <FluentCard>Card number 11</FluentCard>
        <FluentCard>Card number 12</FluentCard>
        <FluentCard>Card number 13</FluentCard>
        <FluentCard>Card number 14</FluentCard>
        <FluentCard>Card number 15</FluentCard>
        <FluentCard>Card number 16</FluentCard>
    </FluentHorizontalScroll>

    <FluentButton @onclick="() => _horizontalScroll.ScrollToPrevious()">Scroll to Previous</FluentButton>
    <FluentButton @onclick="() => _horizontalScroll.ScrollToNext()">Scroll to Next</FluentButton>
    <FluentButton @onclick="() => _horizontalScroll.ScrollInView(10)">Scroll to 10</FluentButton>

    @inject ILogger<Controls> logger;

    @code {
        FluentHorizontalScroll _horizontalScroll = default!;

        private void OnHorizontalScrollStart(HorizontalScrollEventArgs args)
        {
            logger.LogInformation($"{args.Scroll}");
        }

        private void OnHorizontalScrollEnd(HorizontalScrollEventArgs args)
        {
            logger.LogInformation($"{args.Scroll}");
        }
    }
*@

<FluentDivider />

@*
    // -----------------------------------
    // Icon
    // -----------------------------------
*@

<h2>Icon</h2>

<FluentIcon Name="@FluentIcons.Alert" Size="IconSize.Size48" Variant=IconVariant.Filled Color="Color.Neutral" />

@code {
}

<FluentDivider />

@*
    // -----------------------------------
    // Listbox
    // -----------------------------------
*@

<h2>Listbox</h2>

<FluentListbox TOption="string" ValueChanged="@(e => listboxValue = e)">
    <FluentOption>This option has no value</FluentOption>
    <FluentOption Value="Item 1" Disabled="true">This option is disabled</FluentOption>
    <FluentOption Value="Item 2">This option has a value</FluentOption>
    <FluentOption Value="Item 3">
        <FluentIcon Name="@FluentIcons.Folder" Slot="start" Size="IconSize.Size16"></FluentIcon>
        This option has <b>an icon</b>
    </FluentOption>
    <FluentOption Value="Item 4" Selected=true>
        <div style="display:flex; flex-direction:row">
            <img style="width:20px" src="flags/nl.svg" />This option is selected by default
        </div>
    </FluentOption>
</FluentListbox>

<p>Selected: @listboxValue</p>

@code {
    string? listboxValue = "Item 4";
}

@*
    // -----------------------------------
    // Menu
    // -----------------------------------
*@

<h2>Menu</h2>

<FluentMenu>
    <FluentMenuItem>Menu item 1</FluentMenuItem>
    <FluentMenuItem>Menu item 2</FluentMenuItem>
    <FluentMenuItem>Menu item 3</FluentMenuItem>
    <FluentDivider></FluentDivider>
    <FluentMenuItem Role="MenuItemRole.MenuItemCheckbox">Checkbox 1</FluentMenuItem>
    <FluentMenuItem Role="MenuItemRole.MenuItemCheckbox">
        Checkbox 2
        <FluentIcon Name="@FluentIcons.Globe" Slot="checkbox-indicator" Size="@IconSize.Size16" Color=Color.Neutral />
    </FluentMenuItem>
    <FluentDivider></FluentDivider>
    <FluentMenuItem Role="MenuItemRole.MenuItemRadio">Radio 1.1</FluentMenuItem>
    <FluentMenuItem Role="MenuItemRole.MenuItemRadio">Radio 1.2</FluentMenuItem>
</FluentMenu>

<FluentMenu>
    <FluentMenuItem>
        Menu item 1
        <FluentMenu slot="submenu">
            <FluentMenuItem>Menu item 1.1</FluentMenuItem>
            <FluentMenuItem>Menu item 1.2</FluentMenuItem>
            <FluentMenuItem>Menu item 1.3</FluentMenuItem>
        </FluentMenu>
    </FluentMenuItem>
    <FluentMenuItem>
        Menu item 2
        <FluentMenu slot="submenu">
            <FluentMenuItem>Menu item 2.1</FluentMenuItem>
            <FluentMenuItem>Menu item 2.2</FluentMenuItem>
            <FluentMenuItem>Menu item 2.3</FluentMenuItem>
        </FluentMenu>
    </FluentMenuItem>
    <FluentMenuItem>
        Menu item 3
        <FluentMenu slot="submenu">
            <FluentMenuItem>Menu item 3.1</FluentMenuItem>
            <FluentMenuItem>Menu item 3.2</FluentMenuItem>
            <FluentMenuItem>Menu item 3.3</FluentMenuItem>
        </FluentMenu>
    </FluentMenuItem>
</FluentMenu>

@code {
}

<FluentDivider />

@*
    // -----------------------------------
    // NumberField
    // -----------------------------------
*@

<h2>NumberField</h2>

<FluentNumberField @bind-Value=value1 Placeholder="Placeholder"></FluentNumberField>

@code {
    int? value1 = 1;
}

<FluentDivider />

@*
    // -----------------------------------
    // Select / Option
    // -----------------------------------
*@

<h2>Select / Option</h2>

<FluentSelect Value=2 TOption="int">
    <FluentOption Value=1>
        <FluentIcon Name="@FluentIcons.Globe" Slot="start" Size="@IconSize.Size16" Color=Color.Neutral />
        <FluentIcon Name="@FluentIcons.Globe" Slot="end" Size="@IconSize.Size16" Color=Color.Neutral />
        This option has an icon in its start and end slots.
    </FluentOption>
    <FluentOption Value=2>
        <FluentIcon Name="@FluentIcons.Globe" Slot="start" Size="@IconSize.Size16" Color=Color.Neutral />
        This option has an icon in its start slot.
    </FluentOption>
    <FluentOption Value=3>
        <FluentIcon Name="@FluentIcons.Globe" Slot="end" Size="@IconSize.Size16" Color=Color.Neutral />
        This option has an icon in its end slot.
    </FluentOption>
</FluentSelect>

@code {
}

<FluentDivider />

@*
    // -----------------------------------
    // Progress
    // -----------------------------------
*@

<h2>Progress</h2>

<FluentProgress></FluentProgress>

@code {
}

<FluentDivider />

@*
    // -----------------------------------
    // ProgressRing
    // -----------------------------------
*@

<h2>ProgressRing</h2>

<FluentProgressRing></FluentProgressRing>

@code {
}

<FluentDivider />

@*
    // -----------------------------------
    // RadioGroup / Radio
    // -----------------------------------
*@

<h2>RadioGroup / Radio</h2>

<FluentRadioGroup @bind-Value="pilot" Name="best-pilot">
    <label id="label4" slot="label">Preset selected-value</label>
    <FluentRadio Value="@("ice-man")">Ice Man</FluentRadio>
    <FluentRadio Value="@("maverick")">Maverick</FluentRadio>
    <FluentRadio Value="@("viper")">Viper</FluentRadio>
    <FluentRadio Value="@("jester")">Jester</FluentRadio>
</FluentRadioGroup>
<p>The best pilot according to you is: @pilot!</p>

@code {
    string? pilot = "maverick";
}

<FluentDivider />

@*
    // -----------------------------------
    // Search
    // -----------------------------------
*@

<h2>Search</h2>

<FluentSearch @bind-Value=value>Label</FluentSearch>

@code {
    string? value;
}

<FluentDivider />

@*
    // -----------------------------------
    // Select
    // -----------------------------------
*@

<h2>Select</h2>

<FluentSelect ValueChanged="@(e => selectValue2 = e)" TOption="string">
    <FluentOption Value="1">
        Search
        <FluentIcon Name="@FluentIcons.Search" Slot="start" Size="IconSize.Size20" Color="Color.Neutral" />
    </FluentOption>
    <FluentOption Value="2" Selected="true">
        Show
        <FluentIcon Name="@FluentIcons.AppsList" Slot="start" Size="IconSize.Size20" Color="Color.Neutral" />
    </FluentOption>
    <FluentOption Value="3">
        Generate
        <FluentIcon Name="@FluentIcons.Code" Slot="start" Size="IconSize.Size20" Color="Color.Neutral" />
    </FluentOption>
    <FluentOption Value="4">
        Update
        <FluentIcon Name="@FluentIcons.ArrowSync" Slot="start" Size="IconSize.Size20" Color="Color.Neutral" />
    </FluentOption>
    <FluentOption Value="4">
        About
        <FluentIcon Name="@FluentIcons.Info" Slot="start" Size="IconSize.Size20" Color="Color.Neutral" />
    </FluentOption>

</FluentSelect>

@code {
    string? selectValue2;
}

<FluentDivider />

@*
    // -----------------------------------
    // Skeleton
    // -----------------------------------
*@

<h2>Skeleton</h2>

<FluentCard class="card-padding">
    <FluentSkeleton style="border-radius: 4px; width: 50px; height: 50px;" Shape="SkeletonShape.Circle" Shimmer="true"></FluentSkeleton>
    <FluentSkeleton style="border-radius: 4px; margin-top: 10px; height: 10px;" Shape="SkeletonShape.Rect" Shimmer="true"></FluentSkeleton>
    <FluentSkeleton style="border-radius: 4px; margin-top: 10px; height: 10px;" Shape="SkeletonShape.Rect" Shimmer="true"></FluentSkeleton>
    <FluentSkeleton style="border-radius: 4px; margin-top: 10px; height: 10px;" Shape="SkeletonShape.Rect" Shimmer="true"></FluentSkeleton>
    <FluentSkeleton style="
                border-radius: 4px;
                width: 75px;
                height: 30px;
                margin-top: 20px;
                margin-bottom: 10px;
            "
                    Shape="SkeletonShape.Rect"
                    Shimmer="true"></FluentSkeleton>
</FluentCard>

@code {
}

<FluentDivider />

<br />